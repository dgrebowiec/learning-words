<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>HiszpaÅ„skie Owoce &amp; Warzywa â€“ mini-gra (odznaki, retry, mieszane, podsumowanie)</title>
<link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
<div class="app">
  <header>
    <h1>HiszpaÅ„skie <span class="grad">Owoce &amp; Warzywa</span> â€“ mini-gra</h1>
    <div class="toolbar">
      <button class="btn secondary" id="toMenuBtn">ğŸ  Menu</button>
      <button class="btn" id="speakAllBtn">ğŸ”Š Lista</button>
    </div>
  </header>

  <main>
    <!-- MENU -->
    <section id="menu" class="card">
      <div class="center" style="margin-bottom:10px">
        <div class="pill" id="ttsStatus">TTS: wykrywanieâ€¦</div>
        <p class="sub" style="margin-top:8px">Wybierz kategoriÄ™, poziom i tryb:</p>
      </div>
      <div class="row segmented" id="catSeg">
        <div class="seg active" data-cat="FRUITS">Owoce</div>
        <div class="seg" data-cat="VEGGIES">Warzywa</div>
        <div class="seg" data-cat="MIXED">Mieszane</div>
      </div>
      <div class="row segmented" id="levelSeg" style="margin-top:8px">
        <div class="seg active" data-level="LATWY">Åatwy</div>
        <div class="seg" data-level="SREDNI">Åšredni</div>
        <div class="seg" data-level="TRUDNY">Trudny</div>
      </div>

      <div class="menu-grid" style="margin-top:12px">
        <div class="mode-card">
          <div><h3>Fiszki</h3><p>Ucz siÄ™ nazw + odsÅ‚uch, bez punktacji.</p></div>
          <button class="btn" data-go="flashcards">Start âœ</button>
        </div>
        <div class="mode-card">
          <div><h3>Quiz (PL âœ ES)</h3><p>Wybierz hiszpaÅ„skÄ… nazwÄ™.</p></div>
          <button class="btn" data-go="quiz">Start âœ</button>
        </div>
        <div class="mode-card">
          <div><h3>Wybierz element (ES âœ obraz)</h3><p>Podajemy nazwÄ™ po hiszp.; wybierz wÅ‚aÅ›ciwy obraz.</p></div>
          <button class="btn" data-go="finditem">Start âœ</button>
        </div>
      </div>

      <div class="card" style="margin-top:12px">
        <div class="row" style="justify-content:center; gap:8px;">
          <span class="pill">Kategoria: <b id="statCat">Owoce</b></span>
          <span class="pill">Poziom: <b id="statLvl">Åatwy</b></span>
          <span class="pill">Tryb: <b id="statMode">â€”</b></span>
          <span class="pill">Najlepszy wynik: <b id="statBest">0</b></span>
          <span class="pill">Najlepszy czas: <b id="statBestTime">â€”</b></span>
          <span class="pill">Najlepsza seria: <b id="statBestStreak">0</b></span>
          <span class="pill">Poznane sÅ‚owa: <b id="statLearned">0</b>/<span id="statTotalWords">0</span></span>
        </div>
      </div>

      <div class="card" style="margin-top:12px">
        <h3 style="margin:0 0 6px 0">â±ï¸ Najlepsze czasy dla tej kategorii i trybu</h3>
        <ul class="stats-list" id="bestTimesList"></ul>
      </div>

      <div class="card" style="margin-top:12px">
        <h3 style="margin:0 0 6px 0">ğŸ“Š PostÄ™py ogÃ³lne</h3>
        <div class="row" style="justify-content:center; gap:8px;">
          <span class="pill">ÅÄ…cznie gier: <b id="globalGames">0</b></span>
          <span class="pill">Åšrednia skutecznoÅ›Ä‡: <b id="globalAccuracy">0%</b></span>
          <span class="pill">Poznane sÅ‚owa: <b id="globalLearned">0</b>/<span id="globalTotalWords">0</span></span>
          <span class="pill">Ostatnia aktywnoÅ›Ä‡: <b id="globalLastPlayed">â€”</b></span>
        </div>
      </div>

      <!-- PÃ³Å‚ka odznak -->
      <div class="card" style="margin-top:12px">
        <div class="row" style="justify-content:space-between">
          <h3 style="margin:0">ğŸ… Odznaki</h3>
          <span class="pill">Zdobyte: <b id="badgeCount">0</b>/<span id="badgeTotal">0</span></span>
        </div>
        <div class="badges" id="badgeShelf" style="margin-top:10px"></div>
      </div>
    </section>

    <!-- FISZKI -->
    <section id="flashcards" class="card hidden">
      <div class="imgwrap"><img id="fcImg" alt="obraz" /></div>
      <div class="word" id="fcEs">manzana</div>
      <div class="sub" id="fcPl">jabÅ‚ko</div>
      <div class="row" style="margin-top:8px">
        <button class="btn secondary" id="fcPrev">â¬…ï¸ Poprzednie</button>
        <button class="btn secondary" id="resetBtn">ğŸ”„ Reset</button>
        <button class="btn" id="fcSpeak">ğŸ” PowtÃ³rz sÅ‚owo</button>
        <button class="btn" id="fcNext">NastÄ™pny âœ</button>
      </div>
    </section>

    <!-- QUIZ PL -> ES -->
    <section id="quiz" class="card hidden">
      <div class="row" style="justify-content:space-between;">
        <span class="pill">Pytanie: <b id="qNum">1</b>/<span id="qTotal">10</span></span>
        <span class="pill">Wynik: <b id="qScore">0</b></span>
        <span class="pill">Seria: <b id="qStreak">0</b> (rek.: <span id="qBestStreak">0</span>)</span>
      </div>
      <div class="scorebar" aria-hidden="true" style="margin:10px 0 14px 0"><span id="scoreFill"></span></div>
      <div class="center" style="margin-bottom:6px">
        <div class="imgwrap" style="max-width:520px;margin:0 auto"><img id="qImg" alt="obraz do pytania" /></div>
        <div class="sub" id="qHint">po polsku: jabÅ‚ko</div>
        <div class="row" style="margin-top:6px">
          <button class="btn" id="qSpeak">ğŸ” PowtÃ³rz sÅ‚owo (ES)</button>
        </div>
      </div>
      <div class="choices" id="choices"></div>
      <div class="row" style="margin-top:10px; justify-content:space-between;">
        <button class="btn secondary" id="qSkip">PomiÅ„</button>
        <div class="row" style="gap:8px">
          <button class="btn secondary" id="qRetry">âŸ³ Zagraj ponownie (nowy zestaw)</button>
          <button class="btn" id="qNext">NastÄ™pne pytanie</button>
        </div>
      </div>

      <!-- Podsumowanie quizu -->
      <div id="qSummary" class="summary hidden">
        <div class="big">Podsumowanie</div>
        <div><b>Wynik:</b> <span id="qSumScore">0</span>/<span id="qSumTotal">0</span> (<span id="qSumPct">0</span>%)</div>
        <div class="muted">Najlepsza seria: <b id="qSumBestStreak">0</b> â€¢ Czas: <b id="qSumTime">0.0 s</b> â€¢ Rekord czasu: <b id="qSumBestTime">â€”</b></div>
        <div class="row" style="margin-top:6px">
          <button class="btn secondary" id="qSumMenu">ğŸ  Menu</button>
          <button class="btn" id="qSumRetry">âŸ³ Zagraj ponownie</button>
        </div>
      </div>
    </section>

    <!-- FIND ITEM ES -> IMG -->
    <section id="finditem" class="card hidden">
      <div class="row" style="justify-content:space-between;">
        <span class="pill">Pytanie: <b id="fNum">1</b>/<span id="fTotal">10</span></span>
        <span class="pill">Wynik: <b id="fScore">0</b></span>
        <span class="pill">Seria: <b id="fStreak">0</b> (rek.: <span id="fBestStreak">0</span>)</span>
      </div>
      <div class="scorebar" aria-hidden="true" style="margin:10px 0 14px 0"><span id="fFill"></span></div>
      <div class="center" style="margin-bottom:6px">
        <div class="word" id="fEs">manzana</div>
        <div class="sub" id="fPl" style="display: none">(jabÅ‚ko)</div>
        <div class="row" style="margin-top:6px">
          <button class="btn" id="fSpeak">ğŸ” PowtÃ³rz sÅ‚owo (ES)</button>
        </div>
      </div>
      <div class="choices" id="itemChoices"></div>
      <div class="row" style="margin-top:10px; justify-content:space-between;">
        <button class="btn secondary" id="fSkip">PomiÅ„</button>
        <div class="row" style="gap:8px">
          <button class="btn secondary" id="fRetry">âŸ³ Zagraj ponownie (nowy zestaw)</button>
          <button class="btn" id="fNext">NastÄ™pne pytanie</button>
        </div>
      </div>

      <!-- Podsumowanie wybierz element -->
      <div id="fSummary" class="summary hidden">
        <div class="big">Podsumowanie</div>
        <div><b>Wynik:</b> <span id="fSumScore">0</span>/<span id="fSumTotal">0</span> (<span id="fSumPct">0</span>%)</div>
        <div class="muted">Najlepsza seria: <b id="fSumBestStreak">0</b> â€¢ Czas: <b id="fSumTime">0.0 s</b> â€¢ Rekord czasu: <b id="fSumBestTime">â€”</b></div>
        <div class="row" style="margin-top:6px">
          <button class="btn secondary" id="fSumMenu">ğŸ  Menu</button>
          <button class="btn" id="fSumRetry">âŸ³ Zagraj ponownie</button>
        </div>
      </div>
    </section>
  </main>

  <footer>
    Zapis wynikÃ³w, rekordÃ³w i odznak dziaÅ‚a w <b>localStorage</b>. Tryby i statystyki osobno dla: <b>kategoria</b> Ã— <b>poziom</b> Ã— <b>tryb</b>. Offline âœ…
  </footer>
</div>

<script src="assets/js/app.js" defer></script>
</body>
</html>
